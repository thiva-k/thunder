{
    "id": "auth_flow_config_basic_http_request",
    "type": "AUTHENTICATION",
    "nodes": [
        {
            "id": "start",
            "type": "START",
            "onSuccess": "basic_auth"
        },
        {
            "id": "basic_auth",
            "type": "TASK_EXECUTION",
            "executor": {
                "name": "BasicAuthExecutor"
            },
            "onSuccess": "http_request_notification"
        },
        {
            "id": "http_request_notification",
            "type": "TASK_EXECUTION",
            "properties": {
                "url": "http://localhost:9091/api/notifications",
                "method": "POST",
                "headers": "{\"Content-Type\": \"application/json\", \"X-Flow-Id\": \"{{ context.flowID }}\"}",
                "body": "{\"userId\": \"{{ context.userID }}\", \"username\": \"{{ context.username }}\", \"event\": \"user_authenticated\", \"unknownField\": \"{{ context.unknownPlaceholder }}\"}",
                "responseMapping": "{\"notificationId\": \"id\", \"status\": \"status\"}",
                "timeout": "5"
            },
            "executor": {
                "name": "HTTPRequestExecutor"
            },
            "onSuccess": "auth_assert"
        },
        {
            "id": "auth_assert",
            "type": "TASK_EXECUTION",
            "executor": {
                "name": "AuthAssertExecutor"
            },
            "onSuccess": "end"
        },
        {
            "id": "end",
            "type": "END"
        }
    ]
}
